## 1장
  - 자바스크립트기초
  - https://ko.javascript.info/

### 1.1 핵심개념
- Node.js®는 Chrome V8 JavaScript 엔진으로 빌드된 JavaScript 런타임입니다.
  - 자바스크립트의 실행 환경이다.
  - 서버를 구축 할 수 있는 라이브러리를 포함한 실행환경
    - http/https/http2 모듈을 제공
    
- 런타임
  - 실행환경

#### 1.1.1 서버
- 노드 !== 서버
- 노드는 실행환경으로 서버만 아니라 다양한 애플리케이션을 개발하여 실행 할 수 있다.
- Ex) VsCode: 노드를 기반으로 일렉트론을 활용하여 개발.  
  
- 서버(Server)
  - 네트워크를 통해 클라이언트에 정보나 서비스를 제공하는 컴퓨터 또는 프로그램
- 클라이언트(Client)
  - 요청을 보내는 주체
  - 브라우저, 데스크톱 프로그램, 모바일앱
  - 다른 서버에 요청을 보내는 서버
- 요청과 응답(Request, Response)

#### 1.1.2 JS Runtime
- V8 엔진기반 자바스크립트 실행환경
- V8 엔진: 2008년도 구글에서 크롬과 함께 출식
- 2009년 라이언달이 노드 프로젝트를 시작
- V8 엔진: 오픈 소스 자바스크립트 엔진 -> 속도 문제 개선
- libuv: 노드의 특성인 이벤트 기반, 논블로킹(비동기) I/O 모델을 구현한 라이브러리
  
#### 1.1.3 이벤트 기반 (Event driven)
- Event 처리
    - 1. Event 리스너(이벤트 핸들러, 이벤트 콜백함수) 등록
    - 2. 이벤트가 발생하면 엔진이 등록된 리스너를 실행시킨다

- Call Stack, Event Loop, Task Queue, Background
    - Call Stack(FILO, First In Last Out)
        - 동기적으로 함수 실행
        - 함수는 무조건 콜스택(호출스택)에서 실행
        - 종료되면 스택에서 pop
        - 호출되면 스택에 push
        - 함수가 종료되기전에 다른 함수가 실행되면 다른 함수가 콜스택 상위로 push
      ```js
      function f1(){
          f2();
          console.log('1번');
      }
      function f2(){
          f3();
          console.log(`2번`);
      }
      function f3(){
          console.log(`3번`);
      }
      f1();
      출력: 3번, 2번, 1번 순
      ```
    - Event Loop
        - 호출스택이 '비어 있으면' 태스크 큐의 콜백함수를
          호출 스택으로 순서대로 push

    - Task Queue
        - 실행될 콜백함수를 차례로 저장하고 있음

    - Background
        - 콜백함수를 등록
        - 조건이 되면 태스크큐로 전송
      ```js
      function 콜백테스트1(){
      console.log('3초후 표시됨');
      }
      function 콜백테스트2(){
          console.log('2초후 표시됨');
      }
      console.log('start');
      setTimeout(콜백테스트1,3000);
      setTimeout(콜백테스트2,2000);
      console.log('end');
      ```
        - 함수 밖의 console.log('start' or 'end')가 실행되는건 콜백함수들이 백그라운드에서 동작할 동안 main()함수가 실행되면서 콘솔이 실행되므로.

#### 1.1.4 논블로킹 I/O
- callback 함수는 논블로킹, 비동기 동작
  
- 컴퓨터에서 작업: 컴퓨팅
  - 동시에 실행할 수 있는 작업: I/O - input/output
    - 파일 시스템-읽기/쓰기 read/write, 네트워크: 요청/응답 (request/response)
  - 동시에 실행할 수 없는 작업: 동기적으로 실행되는 것, 기본적으로 함수들
  
- non-blocking: 이전 작업이 완료될 때 까지 대기하지 않고(실행을 점유하지 않고) 다음 작업을 실행
  - blocking: 이전 작업이 끝나야 다음 작업 실행
  
- 노드의 활용: I/O가 빈번한 서비스에 유용
- 논 블로킹 테스트: setTimeout(콜백, 0);
  
- 동기식 동작과 블로킹 동작은 유사
- 비동기식과 논블로킹이 유사
  
#### 1.1.5 싱글스레드
- Thread가 하나뿐
  - 프로그래머가 다룰 수 있는(제어 할 수 있는) Thread가 1개라는 말.
  - 노드는 여러개의 쓰레드로 실행된다.
  - node 14 이상부터는 여러개의 쓰레드(멀티 쓰레드)를 사용할 수 있게됨.
    - 권장 안함, 소스코드 난해, 성능개선도 그다지....
  - 특징: 자바스크립트 소스가 한순간에는 하나의 코드만 실행 가능
- Process vs Thread
- 프로세스
  - OS에서 실행하는 프로그램에 할당하는 작업의 단위
  - 개별 프로세스들간의 메모리(자원, 컴퓨터 리소스) 공유가 불가
  - Ex) 윈도우에서 exe가 메모리에 로딩되어 실행되는 상황
  - 멀티 프로세스, 멀티 프로세싱: C/C++, MFC
- 쓰레드
  - 프로세스내에서 실행되는 흐름의 단위
  - 한 프로세스(부모 프로세스) 내에 여러 쓰레드가 존재 가능
  - 부모 프로세스의 자원을 여러 쓰레드가 공유 가능
  - 멀티 쓰레드, 멀티 쓰레딩 => 복잡, 소스코드 난해함
  - 일손으로 비유하면 => worker(알바생) = 쓰레드
- 노드는 싱글쓰레드로 구현
  - 싱글쓰레드가 오류로 멈추면 전체 노드가 중지
  - 싱글쓰레드가 멈추지 않도록 논블로킹 형태로 관리해야함

[//]: # (#### 1.2 서버로써의 노드)

[//]: # (- 특성, 장점)

[//]: # ()
[//]: # (#### 1.3 서버외의 노드)